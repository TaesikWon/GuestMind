# 📘 SoulStay 프로젝트 기획서

---

## 🏷️ 프로젝트 주제  

**AI 감정 분석을 활용한 호텔 고객 경험 관리 플랫폼**

호텔 고객 피드백 데이터를 분석하여 감정 상태(긍정/부정/중립)와 그 이유를 자동으로 파악하고, 유사 사례를 추천하는 AI 기반 고객경험 관리 시스템입니다. OpenAI GPT-4o-mini를 활용한 감정 분석, LangChain과 ChromaDB 기반 RAG 검색, APScheduler를 통한 자동 통계 요약 기능을 통합하여, 호텔 산업의 비정형 피드백 데이터를 정량화하고 운영 의사결정에 즉시 활용할 수 있도록 지원합니다.

---

## 💡 문제 정의

호텔 현장에서 고객과 직접 마주하며 느낀 점은 "고객의 감정을 정확히 이해하지 못하면 문제의 본질을 해결할 수 없다"는 것이었습니다. 고객은 감정적으로 불만을 표현하지만 그 이면에는 서비스 개선 포인트가 숨어 있으며, 반대로 감정 표현이 적은 피드백은 중요도가 낮게 간주되어 개선 기회를 놓치는 경우가 많습니다.

현재 호텔 산업의 피드백 데이터는 대부분 비정형 텍스트로 존재하여, 단순 키워드 분석으로는 감정을 올바르게 분류하기 어렵고 수작업 분석은 시간이 많이 들며 주관적입니다. 또한 기존 CRM은 예약·결제 등 정형 데이터 중심이라 감정의 맥락을 파악할 수 없으며, 대부분의 감정 분석 모델은 영어 중심이라 한국어 감정의 뉘앙스를 정확히 해석하지 못합니다.

SoulStay는 이러한 문제를 해결하기 위해 AI 감정 분석과 데이터 자동화를 결합한 시스템을 제안합니다. OpenAI GPT-4o-mini로 감정과 근거를 추출하고, LangChain과 ChromaDB를 통해 의미 기반 유사 피드백 검색을 수행하며, APScheduler로 매일 자동 통계 요약을 생성합니다. 이를 통해 운영자는 긍정/부정 비율, 감정 트렌드, 불만 급증 시점을 즉시 파악하여 현장의 감정 데이터를 기반으로 서비스를 개선할 수 있습니다.

---

## ⚙️ 시스템 구성  

| 구성 요소 | 역할 |
|-----------|------|
| 🧱 **FastAPI** | 감정 분석 API, 요청 처리 및 백엔드 로직 |
| 🗄️ **PostgreSQL** | 감정 로그 및 요약 데이터 저장 |
| 🧠 **OpenAI GPT-4o-mini** | 감정 분석 및 근거(reason) 생성 |
| 🔍 **LangChain + ChromaDB** | 유사 피드백 검색 (RAG 구조) |
| ⏰ **APScheduler** | 자동 감정 통계 요약 (일 1회) |
| 🎨 **Jinja2 + Bootstrap5** | 웹 인터페이스 렌더링 (관리 페이지) |

---

## 🧠 모델링 방안  

1. 사용자가 고객 피드백(리뷰, 설문 등)을 입력
2. GPT-4o-mini가 감정(`emotion`) 및 이유(`reason`)를 분석
3. 분석 결과를 JSON으로 반환 → PostgreSQL 저장
4. 텍스트 임베딩 후 ChromaDB에 저장
5. LangChain으로 유사 피드백 검색 수행
6. APScheduler가 매일 자정 감정 통계 자동 요약 수행

### 처리 흐름
```
사용자
  ↓
FastAPI (EmotionService)
  ↓
OpenAI GPT-4o-mini → 감정 분석 결과(JSON)
  ↓
PostgreSQL (emotion_logs)
  ↓
LangChain + Chroma (RAG 검색)
  ↓
APScheduler (일일 감정 요약)
```

---

## 💾 사용 데이터  

| 구분 | 내용 |
|------|------|
| 📝 **입력 데이터 (예정)** | 호텔 고객 리뷰, 설문 피드백, 상담 내용 등 자연어 텍스트 |
| 🎯 **분석 대상** | 텍스트 내 긍정 / 부정 / 중립 감정 및 감정 근거(reason) |
| 📤 **출력 데이터** | 감정 분석 결과(JSON): `{ "emotion": "긍정", "reason": "서비스가 만족스러움" }` |
| 🗃️ **저장 구조** | PostgreSQL 내 `emotion_logs`, `daily_summaries` 테이블 |
| 🔍 **데이터 확보 계획** | 샘플 데이터 기반 테스트 후 실제 리뷰 데이터 확장 예정 |

---

## 👥 R&R (역할 및 담당)

| 구분 | 담당자 | 주요 작업 |
|------|--------|-----------|
| **백엔드 개발** | 원태식 | FastAPI 서버 구축 및 API 설계 |
| **AI 서비스 연동** | 원태식 | OpenAI 감정 분석 API, LangChain RAG 구현 |
| **데이터베이스** | 원태식 | PostgreSQL 설계 및 SQLAlchemy ORM 모델링 |
| **자동화 시스템** | 원태식 | APScheduler 기반 일일 감정 통계 생성 |
| **프론트엔드** | 원태식 | Jinja2 + Bootstrap 기반 관리자 페이지 구성 |
| **배포 및 운영** | 원태식 | 환경 설정, 로깅 시스템, 인증 구현 |